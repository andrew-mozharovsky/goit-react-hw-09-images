(this["webpackJsonpgoit-react-hw-09-image-finder"]=this["webpackJsonpgoit-react-hw-09-image-finder"]||[]).push([[0],{17:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),o=a.n(r),i=(a(16),a(17),a(18),a(8)),s=a(3),u=a(10),l=a.n(u),j=a(7),b=a.n(j),m=a(11),f={fetchImage:function(){var e=Object(m.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.searchQuery,n=t.page,e.next=3,fetch("https://pixabay.com/api/?q=".concat(a,"&page=").concat(n,"&key=21324374-26e3d3b86bafb4c298c1385cf&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=a(1),d=function(e){var t=e.children,a=e.imageClick;return Object(h.jsx)("ul",{onClick:a,className:"ImageGallery",children:t})},O=function(e){var t=e.imageArr,a=e.onClick;return t.map((function(e){var t=e.webformatURL,n=e.id,c=e.tags,r=e.largeImageURL;return Object(h.jsx)("li",{onClick:a,className:"ImageGalleryItem",children:Object(h.jsx)("img",{"data-largeurl":r,src:t,alt:c,className:"ImageGalleryItem-image"})},n)}))},g=function(e){var t=e.onChange;return Object(h.jsx)("button",{className:"Button",onClick:t,type:"button",children:"load more"})},p=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(r),o("")},className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},value:r,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},v=function(e){var t=e.closeModal,a=e.largeImage,c=e.alt;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(h.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(h.jsx)("div",{className:"Modal",children:Object(h.jsx)("img",{src:a,alt:c})})})},x=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),o=Object(s.a)(r,2),u=o[0],j=o[1],b=Object(n.useState)(1),m=Object(s.a)(b,2),x=m[0],S=m[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),k=w[0],N=w[1],C=Object(n.useState)(!1),I=Object(s.a)(C,2),E=I[0],F=I[1],L=Object(n.useState)(""),M=Object(s.a)(L,2),B=M[0],G=M[1],T=Object(n.useState)(""),A=Object(s.a)(T,2),J=A[0],Q=A[1];Object(n.useEffect)((function(){if(""!==a){!function(){N(!0);var e={searchQuery:a,page:x};f.fetchImage(e).then((function(e){var t=e.hits;return j((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))}))})).finally(N(!1))}()}}),[a,x]),Object(n.useEffect)((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}));var R=function(){F((function(e){return!e}))},U=u.length>0;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(p,{onSubmit:function(e){c(e),S(1),j([])}}),Object(h.jsx)(d,{imageClick:function(e){G(e.target.dataset.largeurl),Q(e.target.alt)},children:Object(h.jsx)(O,{onClick:R,imageArr:u})}),k&&Object(h.jsx)(l.a,{className:"spinier",type:"Oval",color:"#00BFFF",height:50,width:50}),U&&!k&&Object(h.jsx)(g,{onChange:function(){S((function(e){return e+1}))}}),E&&Object(h.jsx)(v,{largeImage:B,alt:J,closeModal:R})]})};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.a8eb80f4.chunk.js.map